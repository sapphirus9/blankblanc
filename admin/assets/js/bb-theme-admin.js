"use strict";function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}!function(t){t((function(){t(".button-reset").on("click",(function(t){confirm("現在の設定はすべてテーマの初期設定値に変更されます")||t.preventDefault()}))})),t((function(){var e={"bb-config-archive-thumbnail-1":"【一覧ページのサムネイル画像】の『幅』が指定されていません","bb-config-archive-thumbnail-2":"【一覧ページのサムネイル画像】の『高さ』が指定されていません","bb-config-excerpt-length":"【記事抜粋の文字数】が指定されていません"};t("#blankblanc-config-save").on("click",(function(i){var n=[],a="";Object.keys(e).forEach((function(i){t("#"+i).val()||(t("#"+i).addClass("error"),a||(a=t("#"+i)),n.push(e[i]))})),n.length&&(i.preventDefault(),alert(n.join("\n")),a.focus())}))})),t((function(){var e="#bb-config-use-auto-slug";function i(){t(e).prop("checked")?t(".auto-post-slug").fadeIn(300).css({display:"inline-block"}):t(".auto-post-slug").fadeOut(300)}i(),t(e).on("click",i)})),t((function(){t.each(["#bb-logo-image","#bb-mainvisual","#bb-mainvisual-home"],(function(i,n){var a,o=n+" ",c={reset:t(o+'input:button[name="reset"]'),select:t(o+'input:button[name="select"]'),default:t(o+'input:button[name="default"]'),delete:t(o+'input:button[name="delete"]')},l={id:t(o+".image-id"),url:t(o+".image-url"),view:t(o+".image-view")},u=l.id.val(),s=t(o+".image-view img").attr("src"),r='<span class="no-image">選択された画像はありません</span>';l.view.html()||l.view.html(r),c.reset.hide(),c.select.on("click",(function(i){i.preventDefault(),a||(a=wp.media({title:t(o+".media-title").text(),library:{type:"image"},button:{text:"画像を選択"},multiple:!1})).on("select",(function(){e=!0,a.state().get("selection").each((function(t){l.id.val(t.id),l.url.val(t.attributes.url),l.view.html('<img src="'+t.attributes.url+'" alt="">'),c.reset.show()}))})),a.open()})),c.reset.on("click",(function(i){e=!0,i.preventDefault(),u?(l.id.val(u),l.view.html('<img src="'+s+'" alt="">')):(l.id.val(""),l.view.html(r)),t(this).hide()})),c.default.on("click",(function(i){e=!0,i.preventDefault();var n=t(o+'input:hidden[name="default-image"]').val();c.reset.show(),n?(l.id.val(n),l.view.html('<img src="'+n+'" alt="">')):(l.id.val(""),l.view.html(r))})),c.delete.on("click",(function(t){e=!0,l.id.val()&&c.reset.show(),l.id.val(""),l.view.html(r)}))})),t(document).ajaxComplete((function(e,i,n){var a;try{a=n.data.split("&")}catch(t){return!1}if(-1!==t.inArray("action=add-tag",a)){var o=i.responseXML,c=t(o).find("term_id").text();"undefined"!=typeof img&&""!=c&&img.view.html(no_img)}}))})),t.ui&&t.ui.tabs&&t((function(){var e=t("#nav-tabs");"#tab"==location.hash.substring(0,4)&&(t(window).scrollTop(0),t("a",e).removeClass("nav-tab-active"),t("a[href="+location.hash+"]",e).addClass("nav-tab-active")),e.tabs({activate:function(e,i){t("a",this).removeClass("nav-tab-active"),t("a",i.newTab).addClass("nav-tab-active"),t("#bb-config-edit > form").attr("action",t("a",i.newTab).attr("href"))}})})),t.ui&&t.ui.sortable&&t((function(){t("#activate-mobile-nav").sortable({delay:200,opacity:.6,scroll:!1}).bind("sortchange",(function(){e=!0})),t("#activate-mobile-nav > li").each((function(){var e=t("input:checkbox",this);t(this).toggleClass("active",e.prop("checked")).on("click",(function(){t(this).toggleClass("active",e.prop("checked"))}))}))}));var e=!1;t(window).on("load",(function(){"object"==("undefined"==typeof tinymce?"undefined":_typeof(tinymce))&&tinymce.editors.forEach((function(t){t.on("keyup",(function(){e=!0}))}));t([".bb-confirm-changes","#bb-config-edit form"]).each((function(){t(this).on("change",(function(){e=!0}))}));t(["#editor .editor-post-publish-button",'#bb-config-edit [type="submit"]','#addtag [type="submit"]','#edittag [type="submit"]','#submitdiv [type="submit"]']).each((function(){t(this).on("click",(function(){e=!1}))}))})),t(window).on("beforeunload",(function(){if(e)return""})),t(window).on("load",(function(){t("#bb-config-edit").addClass("loaded")})),t((function(){t(".activate-block-header").each((function(){var e=t(this);t('input[type="checkbox"]',this).on("click",(function(){e.next().toggleClass("active",t(this).prop("checked"))}))}))}))}(jQuery);