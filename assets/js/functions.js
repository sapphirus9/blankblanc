"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}var BbSetUserAgent=function(){function e(){_classCallCheck(this,e);var t="",o={os:"other",device:"desktop",browser:"other"};window.navigator.userAgentData&&(t=navigator.userAgentData,o.os=t.platform.toLowerCase(),t.mobile&&(o.device="mobile"),t.brands.length&&t.brands.forEach((function(e){/Chromium/.test(e.brand)&&(o.browser="chromium")}))),"other"!=o.os&&"other"!=o.browser||(t=navigator.userAgent,/Windows/.test(t)?o.os="windows":/Macintosh/.test(t)?o.os="macosx":/Android/.test(t)?o.os="android":/iP.*?Mac OS X/.test(t)?o.os="ios":/Linux/.test(t)&&(o.os="linux"),(/iPhone.*?Mac OS X/.test(t)||/Android.*?Mobile/.test(t))&&(o.device="mobile"),/Mac OS X(?!.*Chrome)(?=.*Safari)/.test(t)?o.browser="safari":/Trident\/7\.0/.test(t)?o.browser="ie11":/Firefox/.test(t)?o.browser="firefox":/Chrome/.test(t)&&(o.browser="chromium")),this.config=o}return _createClass(e,[{key:"addClass",value:function(){document.documentElement.classList.add("os-"+this.config.os),document.documentElement.classList.add("device-"+this.config.device),document.documentElement.classList.add("browser-"+this.config.browser)}}]),e}(),BbSmoothScroll=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e);var r={loaded:!1,offset:!0,speed:50,desktop:0,mobile:0,breakPoint:_BbBreakPoint};if(Object.keys(r).forEach((function(e){(o[e]||!1===o[e])&&(r[e]=o[e])})),"number"!=typeof t){var n="string"==typeof t?document.querySelector(t):t;if(n){var a=n.getBoundingClientRect();t=a.top+window.pageYOffset;var c=n.dataset.option;if(c){var i=c.split(",");i.forEach((function(e){var t=e.split(":"),o=t[1].trim();switch(o){case"true":o=!0;break;case"false":o=!1;break;default:o=Number(o)}r[t[0].trim()]=o}))}}}r.offset&&(t-=document.documentElement.clientWidth<r.breakPoint?r.mobile:r.desktop)<0&&(t=0);var s=window.pageYOffset,l=null,d=!1,u="neutral";function f(e){e||(e=s);var o=Math.abs(t-e);e=parseInt(o-o*r.speed*r.speed/1e4),"down"==u?t<=(e=t-e)&&(d=!0):"up"==u&&t>=(e=t+e)&&(d=!0),window.scroll(0,e),d?cancelAnimationFrame(l):l=requestAnimationFrame((function(){return f(e)}))}s>t?u="up":s<t&&(u="down"),"neutral"!=u&&(r.loaded?window.addEventListener("load",(function(){return f()})):f())},_BbBreakPoint=768;!function(){window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);var e={scrollCommon:{loaded:!1,offset:!0,speed:40,desktop:65,mobile:65,breakPoint:_BbBreakPoint},scrollPageTop:{loaded:!1,offset:!1,speed:40,desktop:0,mobile:0,breakPoint:_BbBreakPoint},breakPoint:_BbBreakPoint};document.addEventListener("DOMContentLoaded",(function(){"bbOptions"in window&&Object.keys(bbOptions).forEach((function(t){var o=bbOptions[t];Object.keys(o).forEach((function(r){(o[r]||!1===o[r])&&(e[t][r]=o[r])}))})),e.breakPoint&&(_BbBreakPoint=e.breakPoint),(new BbSetUserAgent).addClass(),o(),r(),n(),a(),s(),l(),u(),c(),f()})),window.addEventListener("load",(function(){t(),i(),d()}));var t=function(){document.querySelectorAll(".background-image-src").forEach((function(e){e.style.display="none",e.parentNode.style.backgroundImage="url("+e.getAttribute("src")+")",e.parentNode.classList.add("set-background-image")}))},o=function(){var e=document.querySelector(".more-link");e&&e.addEventListener("click",(function(t){e.classList.add("active"),document.querySelector(".more-content").classList.add("active"),t.preventDefault()}))},r=function(){document.querySelectorAll(".widget_archive > ul").forEach((function(e){var t=document.createElement("ul");t.classList.add("month-list"),e.querySelectorAll("li:not(.year-title)").forEach((function(e){t.appendChild(e)})),e.querySelector(".year-title").appendChild(t)}))},n=function(){document.querySelectorAll(".widget_recent_comments .recentcomments").forEach((function(e){var t=e.querySelector(".comment-author-link"),o=e.querySelector("a");o.innerHTML='<span class="entry-title">'+o.innerHTML+'</span><span class="comment-user">'+t.innerHTML+"</span>",e.innerHTML=o.outerHTML}))},a=function(){document.querySelectorAll("select").forEach((function(e){e.outerHTML='<div class="select-area">'+e.outerHTML+"</div>"}))},c=function(){document.querySelectorAll(".search-form").forEach((function(e){["mouseenter","mouseleave"].forEach((function(t){e.querySelector(".search-submit").addEventListener(t,(function(){e.querySelector("label").classList.toggle("hover")}))}))}))},i=function(){document.querySelectorAll(".entry-body table").forEach((function(e){var t=document.createElement("div");t.classList.add("table-content");var o=document.createElement("div");o.classList.add("table-area");var r=document.createElement("div");r.classList.add("table-arrow"),r.classList.add("table-arrow-left");var n=document.createElement("div");n.classList.add("table-arrow"),n.classList.add("table-arrow-right"),o.innerHTML=e.outerHTML,t.appendChild(o),o.appendChild(r),o.appendChild(n);var a=e.offsetWidth;e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e);var c=function(){var e=a-o.offsetWidth,t=o.scrollLeft;3<=t?r.classList.add("active"):r.classList.remove("active"),e-3>=t?n.classList.add("active"):n.classList.remove("active")};c(),o.addEventListener("scroll",c)}))},s=function(){var t=document.querySelector("#gotop-button"),o=document.createElement("div");["gotop-cfg","gotop-start","gotop-end"].forEach((function(e){o.classList.add(e)})),t.parentNode.insertBefore(o,t);var r=window.getComputedStyle(o),n=parseInt(r.getPropertyValue("top"))||0,a=parseInt(r.getPropertyValue("bottom"))||0;["load","scroll","resize"].forEach((function(e){window.addEventListener(e,(function(){var e=window.pageYOffset,o=document.documentElement.scrollHeight-document.documentElement.clientHeight;n<e?t.classList.add("gotop-show"):t.classList.remove("gotop-show"),o-a<e?(t.classList.add("gotop-bottom"),t.classList.add("gotop-end")):(t.classList.remove("gotop-bottom"),t.classList.remove("gotop-end"))}))})),t&&t.addEventListener("click",(function(){new BbSmoothScroll(0,Object.create(e.scrollPageTop))}))},l=function(){var t=document.querySelectorAll('a[href*="#"]'),o=location.href.split("#");t&&t.forEach((function(t){t.addEventListener("click",(function(r){var n=t.getAttribute("href").split("#"),a=document.createElement("a");if(a.href=n[0],!(n[0]&&o[0].replace(/(https?:)?\/\/(.*?)\/?$/,"$2")!=a.href.replace(/(https?:)?\/\/(.*?)\/?$/,"$2")||!n[1]||n[1].match(/respond/)||n[1].match(/more\-.*?$/))){var c=document.querySelector("#"+n[1]);if(c){r.preventDefault(),new BbSmoothScroll(c,Object.create(e.scrollCommon));["#main-screen","#main-screen-mask","#nav-window-area","#nav-window-close-btn"].forEach((function(e){document.body.classList.remove("nav-window-show"),document.querySelector(e).classList.remove("nav-window-show")}))}return r.preventDefault(),!1}}))}))},d=function(){var t=location.hash;if(t){var o=document.querySelector(t);new BbSmoothScroll(o,Object.create(e.scrollCommon))}},u=function(){["load","scroll","resize"].forEach((function(e){window.addEventListener(e,(function(){var e=document.querySelector("#header-part");if(e){var t=e.getBoundingClientRect(),o=document.querySelector("#header-part-inner");window.scrollY>=window.scrollY+t.top?o.classList.add("fixed"):o.classList.remove("fixed")}}))}))},f=function(){var t=document.querySelectorAll(".bb-form-style"),o=e.scrollForm?Object.create(e.scrollForm):Object.create(e.scrollCommon);o.loaded=!0,t.forEach((function(e){if(e){var t=e.querySelectorAll(".group"),r=!0;t.forEach((function(e){var t=e.querySelector(".error");if(t){r&&(new BbSmoothScroll(e,o),r=!1),e.classList.add("group-error");var n=["click","focus"];["input","select","textarea",".error"].forEach((function(o){n.forEach((function(r){e.querySelectorAll(o).forEach((function(o){o&&o.addEventListener(r,(function(){e.classList.remove("group-error"),t.classList.add("error-hidden")}))}))}))}))}}));var n=e.querySelector('[name="submitBack"]');if(n&&n.addEventListener("click",(function(){localStorage.setItem("submitBack",1)})),1==localStorage.getItem("submitBack")){var a=document.createElement("div");a.classList.add(".bb-form-style-top".substring(1)),e.parentNode.insertBefore(a,e);a.getBoundingClientRect();new BbSmoothScroll(a,o)}localStorage.setItem("submitBack",null)}}))}}();