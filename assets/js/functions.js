"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}var BbSetUserAgent=function(){function e(){_classCallCheck(this,e);var t="",o={os:"other",device:"desktop",browser:"other"};window.navigator.userAgentData&&(t=navigator.userAgentData,o.os=t.platform.toLowerCase(),t.mobile&&(o.device="mobile"),t.brands.length&&(o.browser=t.brands[0].brand.toLowerCase())),"other"!=o.os&&"other"!=o.browser||(t=navigator.userAgent,/Windows/.test(t)?o.os="windows":/Macintosh/.test(t)?o.os="macosx":/Android/.test(t)?o.os="android":/iP.*?Mac OS X/.test(t)?o.os="ios":/Linux/.test(t)&&(o.os="linux"),(/iPhone.*?Mac OS X/.test(t)||/Android.*?Mobile/.test(t))&&(o.device="mobile"),/Mac OS X(?!.*Chrome)(?=.*Safari)/.test(t)?o.browser="safari":/Trident\/7\.0/.test(t)?o.browser="ie11":/Firefox/.test(t)?o.browser="firefox":/Chrome/.test(t)&&(o.browser="chromium")),this.config=o}return _createClass(e,[{key:"addClass",value:function(){document.documentElement.classList.add("os-"+this.config.os),document.documentElement.classList.add("device-"+this.config.device),document.documentElement.classList.add("browser-"+this.config.browser)}}]),e}(),BbSmoothScroll=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e);var r={loaded:!1,offset:!0,speed:40,desktop:0,mobile:0,breakpoint:_BbBreakPoint};if(Object.keys(r).forEach((function(e){(o[e]||!1===o[e])&&(r[e]=o[e])})),"number"!=typeof t){var n="string"==typeof t?document.querySelector(t):t;if(n){var a=n.getBoundingClientRect();t=a.top+window.pageYOffset;var c=n.dataset.option;if(c){var s=c.split(",");s.forEach((function(e){var t=e.split(":"),o=t[1].trim();switch(o){case"true":o=!0;break;case"false":o=!1;break;default:o=Number(o)}r[t[0].trim()]=o}))}}}r.offset&&(t-=document.documentElement.clientWidth<r.breakpoint?r.mobile:r.desktop)<0&&(t=0);var i=window.pageYOffset,l=null,d=!1,u="neutral";function f(e){e||(e=i);var o=Math.abs(t-e);e=parseInt(o-o*r.speed*r.speed/1e4),"down"==u?t<=(e=t-e)&&(d=!0):"up"==u&&t>=(e=t+e)&&(d=!0),window.scroll(0,e),d?cancelAnimationFrame(l):l=requestAnimationFrame((function(){return f(e)}))}i>t?u="up":i<t&&(u="down"),"neutral"!=u&&(r.loaded?window.addEventListener("load",(function(){return f()})):f())},_BbBreakPoint=768;!function(){window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),document.addEventListener("DOMContentLoaded",(function(){(new BbSetUserAgent).addClass(),t(),o(),r(),n(),s(),i(),a(),l()})),window.addEventListener("load",(function(){e(),c()}));var e=function(){document.querySelectorAll(".background-image-src").forEach((function(e){e.style.display="none",e.parentNode.style.backgroundImage="url("+e.getAttribute("src")+")",e.parentNode.classList.add("set-background-image")}))},t=function(){var e=document.querySelector(".more-link");e&&e.addEventListener("click",(function(t){e.classList.add("active"),document.querySelector(".more-content").classList.add("active"),t.preventDefault()}))},o=function(){document.querySelectorAll(".widget_archive > ul").forEach((function(e){var t=document.createElement("ul");t.classList.add("month-list"),e.querySelectorAll("li:not(.year-title)").forEach((function(e){t.appendChild(e)})),e.querySelector(".year-title").appendChild(t)}))},r=function(){document.querySelectorAll(".widget_recent_comments .recentcomments").forEach((function(e){var t=e.querySelector(".comment-author-link"),o=e.querySelector("a");o.innerHTML='<span class="entry-title">'+o.innerHTML+'</span><span class="comment-user">'+t.innerHTML+"</span>",e.innerHTML="",e.appendChild(o)}))},n=function(){document.querySelectorAll("select").forEach((function(e){e.outerHTML='<div class="select-area">'+e.outerHTML+"</div>"}))},a=function(){document.querySelectorAll(".search-form").forEach((function(e){["mouseenter","mouseleave"].forEach((function(t){e.querySelector(".search-submit").addEventListener(t,(function(){e.querySelector("label").classList.toggle("hover")}))}))}))},c=function(){document.querySelectorAll(".entry-body table").forEach((function(e){var t=document.createElement("div");t.classList.add("table-content");var o=document.createElement("div");o.classList.add("table-area");var r=document.createElement("div");r.classList.add("table-arrow"),r.classList.add("table-arrow-left");var n=document.createElement("div");n.classList.add("table-arrow"),n.classList.add("table-arrow-right"),o.innerHTML=e.outerHTML,t.appendChild(o),o.appendChild(r),o.appendChild(n);var a=e.offsetWidth;e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e);var c=function(){var e=a-o.offsetWidth,t=o.scrollLeft;3<=t?r.classList.add("active"):r.classList.remove("active"),e-3>=t?n.classList.add("active"):n.classList.remove("active")};c(),o.addEventListener("scroll",c)}))},s=function(){var e=document.querySelector("#gotop-button"),t=document.createElement("div");["gotop-cfg","gotop-start","gotop-end"].forEach((function(e){t.classList.add(e)})),e.parentNode.insertBefore(t,e);var o=window.getComputedStyle(t),r=parseInt(o.getPropertyValue("top"))||0,n=parseInt(o.getPropertyValue("bottom"))||0;["load","scroll","resize"].forEach((function(t){window.addEventListener(t,(function(){var t=window.pageYOffset,o=document.documentElement.scrollHeight-document.documentElement.clientHeight;r<t?e.classList.add("gotop-show"):e.classList.remove("gotop-show"),o-n<t?(e.classList.add("gotop-bottom"),e.classList.add("gotop-end")):(e.classList.remove("gotop-bottom"),e.classList.remove("gotop-end"))}))})),e&&e.addEventListener("click",(function(){new BbSmoothScroll(0,{offset:!1})}))},i=function(){var e=document.querySelectorAll('.main-article a[href*="#"]'),t={desktop:30,mobile:60};e&&e.forEach((function(e){e.addEventListener("click",(function(o){var r=e.getAttribute("href").split("#");if(r[1]&&!r[1].match(/comment\-.*?$/)&&!r[1].match(/respond/)&&!r[1].match(/more\-.*?$/)){var n=document.querySelector("#"+r[1]);n&&(o.preventDefault(),new BbSmoothScroll(n,t))}}))}))},l=function(){var e=document.querySelectorAll(".bb-form-style"),t={loaded:!0,desktop:50,mobile:65};e.forEach((function(e){if(e){var o=e.querySelectorAll(".group"),r=!0;o.forEach((function(e){var o=e.querySelector(".error");if(o){r&&(new BbSmoothScroll(e,t),r=!1),e.classList.add("group-error");var n=["click","focus"];["input","select","textarea",".error"].forEach((function(t){n.forEach((function(r){e.querySelectorAll(t).forEach((function(t){t&&t.addEventListener(r,(function(){e.classList.remove("group-error"),o.classList.add("error-hidden")}))}))}))}))}}));var n=e.querySelector('[name="submitBack"]');if(n&&n.addEventListener("click",(function(){localStorage.setItem("submitBack",1)})),1==localStorage.getItem("submitBack")){var a=document.createElement("div");a.classList.add(".bb-form-style-top".substring(1)),e.parentNode.insertBefore(a,e);a.getBoundingClientRect();new BbSmoothScroll(a,t)}localStorage.setItem("submitBack",null)}}))}}();