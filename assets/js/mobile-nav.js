(()=>{(()=>{"use strict";if(!document.getElementById("main-screen"))return;let s={slideNav:[],footerNav:[],mobileWidgets:null};document.addEventListener("DOMContentLoaded",()=>{"bbCfgMobileNav"in window&&(s=Object.assign(s,bbCfgMobileNav)),(s.slideNav.length>0||s.mobileWidgets)&&B(),s.footerNav.length>0&&H()});let h=".is-mobile",L="#global-nav",E="#header-nav",T="#global-footer",l=(r,d,o)=>{let c=document.createElement(r);return d&&(c.id=d.substring(1)),o&&c.classList.add(o.substring(1)),c},B=()=>{let r="#main-screen",d="#main-screen-mask",o="#nav-window-area",c="#nav-window-container",i="#nav-window-widgets",y="#nav-window-open-btn",w="#nav-window-close-btn",a="nav-window-show";document.querySelector(r).appendChild(l("div",d,h));let b=document.querySelector(o);if(!b)return;let p=e=>{e||(e=c),document.querySelectorAll(e+" .child-group").forEach(n=>{n.previousElementSibling.appendChild(l("span",null,".icon-toggle"));let u=n.parentNode;u.classList.add("acoordion-menu");let C=g=>{let N=0;if(g=="open"){let $=n.querySelector("ul").getBoundingClientRect();N=parseInt($.height)+25}n.style.maxHeight=`${N}px`};u.querySelector(".icon-toggle").addEventListener("click",g=>{u.classList.toggle("active"),g.stopPropagation(),g.preventDefault(),u.classList.contains("active")?C("open"):C()})})},f=!1;if(s.slideNav.forEach(e=>{let t=l("ol",e+"-slidenav");if(e==L||e==E){let n=document.querySelector(e+" .menu");n&&(f=!0,t.innerHTML="<li>"+n.outerHTML.replace(/ id=["|'].*?["|']/g,"")+"</li>",t.classList.add("widget_nav_menu"))}else{let n=document.querySelector(e);n&&(f=!0,t.innerHTML=n.outerHTML.replace(/ id=["|'].*?["|']/g,""))}f&&document.querySelector(i).appendChild(t)}),p(),s.mobileWidgets){let e=new XMLHttpRequest;e.addEventListener("loadend",()=>{let t=document.createElement("div");t.innerHTML=e.response,t.childNodes.forEach(n=>{switch(n.id){case"mobile-widget-top":document.querySelector(i).before(n),p(`#${n.id}`);break;case"mobile-widget-bottom":document.querySelector(i).after(n),p(`#${n.id}`);break}})}),e.open("GET",s.mobileWidgets),e.send()}let S=l("div",w);S.appendChild(l("span",null,".btn-symbol")),b.insertBefore(S,b.firstElementChild);let q=l("div",y,h);q.appendChild(l("span",null,".btn-symbol"));let M=document.querySelector("#global-header");if(!M)return;let m=[r,d,o,w],v=window.scrollY;window.addEventListener("load",()=>{M.appendChild(q),v=window.scrollY;let e=document.querySelector(y);e&&e.addEventListener("click",t=>{v=window.scrollY,document.body.classList.add(a),m.forEach(n=>{document.querySelector(n).classList.add(a)}),t.preventDefault()})}),[w,d].forEach(e=>{let t=document.querySelector(e);t&&t.addEventListener("click",n=>{m.forEach(u=>{window.scroll(0,v),document.body.classList.remove(a),document.querySelector(u).classList.remove(a)}),n.preventDefault()})}),window.addEventListener("pageshow",e=>{m.forEach(t=>{window.scroll(0,v),document.body.classList.remove(a),document.querySelector(t).classList.remove(a)}),e.preventDefault()}),window.addEventListener("resize",()=>{let e=window._BbBreakPoint?window._BbBreakPoint:782;document.documentElement.clientWidth>=e&&m.forEach(t=>{document.body.classList.remove(a),document.querySelector(t).classList.remove(a)})})},H=()=>{let r=document.querySelector("#mobile-footer-widget");s.footerNav.forEach(o=>{if(o==L||o==E){let c=document.querySelector(o+" .menu"),i=l("li",o+"-footernav",".widget");i.innerHTML=c.outerHTML.replace(/ id=["|'].*?["|']/g,""),r.appendChild(i)}else{let c=document.querySelector(o),i=document.createElement("div");i.innerHTML=c.outerHTML.replace(/ id=["|'].*?["|']/g,""),i.firstElementChild.setAttribute("id",o.substring(1)+"-footernav"),r.appendChild(i.firstChild)}})}})();})();
