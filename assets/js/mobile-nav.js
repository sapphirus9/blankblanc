(()=>{"use strict";if(!document.getElementById("main-screen"))return;let e={slideNav:[],footerNav:[]};document.addEventListener("DOMContentLoaded",(()=>{"bbCfgMobileNav"in window&&(e=Object.assign(e,bbCfgMobileNav)),e.slideNav.length>0&&d(),e.footerNav.length>0&&r()}));const t=".is-mobile",n="#global-nav",o="#header-nav",i=(e,t,n)=>{const o=document.createElement(e);return t&&(o.id=t.substring(1)),n&&o.classList.add(n.substring(1)),o},d=()=>{const d="#main-screen",r="#main-screen-mask",c="#nav-window-area",l="#nav-window-widgets",s="#nav-window-open-btn",a="#nav-window-close-btn",u="nav-window-show";document.querySelector(d).appendChild(i("div",r,t));const m=document.querySelector(c);if(!m)return;const v=e=>{e||(e="#nav-window-container"),document.querySelectorAll(e+" .child-group").forEach((e=>{e.previousElementSibling.appendChild(i("span",null,".icon-toggle"));const t=e.parentNode;t.classList.add("acoordion-menu");const n=t=>{let n=0;if("open"==t){const t=e.querySelector("ul").getBoundingClientRect();n=parseInt(t.height)+25}e.style.maxHeight=`${n}px`};t.querySelector(".icon-toggle").addEventListener("click",(e=>{t.classList.toggle("active"),e.stopPropagation(),e.preventDefault(),t.classList.contains("active")?n("open"):n()}))}))};let w=!1;if(e.slideNav.forEach((e=>{const t=i("ol",e+"-slidenav");if(e==n||e==o){const n=document.querySelector(e+" .menu");n&&(w=!0,t.innerHTML="<li>"+n.outerHTML.replace(/ id=["|'].*?["|']/g,"")+"</li>",t.classList.add("widget_nav_menu"))}else{const n=document.querySelector(e);n&&(w=!0,t.innerHTML=n.outerHTML.replace(/ id=["|'].*?["|']/g,""))}w&&document.querySelector(l).appendChild(t)})),v(),e.mobileWidgets){const t=new XMLHttpRequest;t.addEventListener("loadend",(()=>{const e=document.createElement("div");e.innerHTML=t.response,e.childNodes.forEach((e=>{switch(e.id){case"mobile-widget-top":document.querySelector(l).before(e),v(`#${e.id}`);break;case"mobile-widget-bottom":document.querySelector(l).after(e),v(`#${e.id}`)}}))})),t.open("GET",e.mobileWidgets),t.send()}const p=i("div",a);p.appendChild(i("span",null,".btn-symbol")),m.insertBefore(p,m.firstElementChild);const g=i("div",s,t);g.appendChild(i("span",null,".btn-symbol"));const f=document.querySelector("#global-header");if(!f)return;const b=[d,r,c,a];let h=window.scrollY;window.addEventListener("load",(()=>{f.appendChild(g),h=window.scrollY;const e=document.querySelector(s);e&&e.addEventListener("click",(e=>{h=window.scrollY,document.body.classList.add(u),b.forEach((e=>{document.querySelector(e).classList.add(u)})),e.preventDefault()}))})),[a,r].forEach((e=>{const t=document.querySelector(e);t&&t.addEventListener("click",(e=>{b.forEach((e=>{window.scroll(0,h),document.body.classList.remove(u),document.querySelector(e).classList.remove(u)})),e.preventDefault()}))})),window.addEventListener("pageshow",(e=>{b.forEach((e=>{window.scroll(0,h),document.body.classList.remove(u),document.querySelector(e).classList.remove(u)})),e.preventDefault()})),window.addEventListener("resize",(()=>{const e=window._BbBreakPoint?window._BbBreakPoint:782;document.documentElement.clientWidth>=e&&b.forEach((e=>{document.body.classList.remove(u),document.querySelector(e).classList.remove(u)}))}))},r=()=>{const d=i("ul",null,t);e.footerNav.forEach((e=>{if(e==n||e==o){const t=document.querySelector(e+" .menu"),n=i("li",e+"-footernav",".widget");n.innerHTML=t.outerHTML.replace(/ id=["|'].*?["|']/g,""),d.appendChild(n)}else{const t=document.querySelector(e),n=document.createElement("div");n.innerHTML=t.outerHTML.replace(/ id=["|'].*?["|']/g,""),n.firstElementChild.setAttribute("id",e.substring(1)+"-footernav"),d.appendChild(n.firstChild)}const t=document.querySelector("#global-footer .footer-widgets");t.insertBefore(d,t.firstElementChild)}))}})();