(()=>{"use strict";if(!document.getElementById("main-screen"))return;let e={slideNav:[],footerNav:[]};document.addEventListener("DOMContentLoaded",(()=>{"bbCfgMobileNav"in window&&(e=Object.assign(e,bbCfgMobileNav)),e.slideNav.length>0&&r(),e.footerNav.length>0&&d()}));const t=".is-mobile",n="#global-nav",o="#header-nav",i=(e,t,n)=>{const o=document.createElement(e);return t&&(o.id=t.substring(1)),n&&o.classList.add(n.substring(1)),o},r=()=>{const r="#main-screen",d="#main-screen-mask",l="#nav-window-area",c="#nav-window-open-btn",s="#nav-window-close-btn",a="nav-window-show";document.querySelector(r).appendChild(i("div",d,t));const u=document.querySelector(l);if(!u)return;let m=!1;e.slideNav.forEach((e=>{const t=i("ol",e+"-slidenav");if(e==n||e==o){const n=document.querySelector(e+" .menu");n&&(m=!0,t.innerHTML="<li>"+n.outerHTML.replace(/ id=["|'].*?["|']/g,"")+"</li>",t.classList.add("widget_nav_menu"))}else{const n=document.querySelector(e);n&&(m=!0,t.innerHTML=n.outerHTML.replace(/ id=["|'].*?["|']/g,""))}m&&document.querySelector("#nav-window-widgets").appendChild(t)})),document.querySelectorAll("#nav-window-widgets .child-group").forEach((e=>{e.previousElementSibling.appendChild(i("span",null,".icon-toggle"));const t=e.parentNode;t.classList.add("acoordion-menu");const n=t=>{let n=0;if("open"==t){const t=e.querySelector("ul").getBoundingClientRect();n=parseInt(t.height)+25}e.style.maxHeight=`${n}px`};t.querySelector(".icon-toggle").addEventListener("click",(e=>{t.classList.toggle("active"),e.stopPropagation(),e.preventDefault(),t.classList.contains("active")?n("open"):n()}))}));const v=i("div",s);v.appendChild(i("span",null,".btn-symbol")),u.insertBefore(v,u.firstElementChild);const w=i("div",c,t);w.appendChild(i("span",null,".btn-symbol"));const p=document.querySelector("#global-header");if(!p)return;const g=[r,d,l,s];let f=window.scrollY;window.addEventListener("load",(()=>{p.appendChild(w),f=window.scrollY;const e=document.querySelector(c);e&&e.addEventListener("click",(e=>{f=window.scrollY,document.body.classList.add(a),g.forEach((e=>{document.querySelector(e).classList.add(a)})),e.preventDefault()}))})),[s,d].forEach((e=>{const t=document.querySelector(e);t&&t.addEventListener("click",(e=>{g.forEach((e=>{window.scroll(0,f),document.body.classList.remove(a),document.querySelector(e).classList.remove(a)})),e.preventDefault()}))})),window.addEventListener("pageshow",(e=>{g.forEach((e=>{window.scroll(0,f),document.body.classList.remove(a),document.querySelector(e).classList.remove(a)})),e.preventDefault()})),window.addEventListener("resize",(()=>{const e=window._BbBreakPoint?window._BbBreakPoint:782;document.documentElement.clientWidth>=e&&g.forEach((e=>{document.body.classList.remove(a),document.querySelector(e).classList.remove(a)}))}))},d=()=>{const r=i("ul",null,t);e.footerNav.forEach((e=>{if(e==n||e==o){const t=document.querySelector(e+" .menu"),n=i("li",e+"-footernav",".widget");n.innerHTML=t.outerHTML.replace(/ id=["|'].*?["|']/g,""),r.appendChild(n)}else{const t=document.querySelector(e),n=document.createElement("div");n.innerHTML=t.outerHTML.replace(/ id=["|'].*?["|']/g,""),n.firstElementChild.setAttribute("id",e.substring(1)+"-footernav"),r.appendChild(n.firstChild)}const t=document.querySelector("#global-footer .footer-widgets");t.insertBefore(r,t.firstElementChild)}))}})();