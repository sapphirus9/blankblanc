(()=>{(()=>{"use strict";if(!document.getElementById("main-screen"))return;let i={slideNav:[],footerNav:[],mobileWidgets:null};document.addEventListener("DOMContentLoaded",()=>{"bbCfgMobileNav"in window&&(i=Object.assign(i,bbCfgMobileNav)),(i.slideNav.length>0||i.mobileWidgets)&&$(),i.footerNav.length>0&&H()});let b=".is-mobile",E="#global-nav",y="#header-nav",B="#global-footer",s=(c,d,o)=>{let a=document.createElement(c);return d&&(a.id=d.substring(1)),o&&a.classList.add(o.substring(1)),a},$=()=>{let c="#main-screen",d="#main-screen-mask",o="#nav-window-area",a="#nav-window-container",u="#nav-window-widgets",l="#nav-window-open-btn",f="#nav-window-close-btn",r="nav-window-show";document.querySelector(c).appendChild(s("div",d,b));let p=document.querySelector(o);if(!p)return;let h=e=>{e||(e=a),document.querySelectorAll(e+" .child-group").forEach(n=>{n.previousElementSibling.appendChild(s("span",null,".icon-toggle"));let m=n.parentNode;m.classList.add("acoordion-menu");let M=w=>{let N=0;if(w=="open"){let T=n.querySelector("ul").getBoundingClientRect();N=parseInt(T.height)+25}n.style.maxHeight=`${N}px`};m.querySelector(".icon-toggle").addEventListener("click",w=>{m.classList.toggle("active"),w.stopPropagation(),w.preventDefault(),m.classList.contains("active")?M("open"):M()})})},L=!1;if(i.slideNav.forEach(e=>{let t=s("ol",e+"-slidenav");if(e==E||e==y){let n=document.querySelector(e+" .menu");n&&(L=!0,t.innerHTML="<li>"+n.outerHTML.replace(/ id=["|'].*?["|']/g,"")+"</li>",t.classList.add("widget_nav_menu"))}else{let n=document.querySelector(e);n&&(L=!0,t.innerHTML=n.outerHTML.replace(/ id=["|'].*?["|']/g,""))}L&&document.querySelector(u).appendChild(t)}),h(),i.mobileWidgets){let e=new XMLHttpRequest;e.addEventListener("loadend",()=>{let t=document.createElement("div");t.innerHTML=e.response,t.childNodes.forEach(n=>{switch(n.id){case"mobile-widget-top":document.querySelector(u).before(n),h(`#${n.id}`);break;case"mobile-widget-bottom":document.querySelector(u).after(n),h(`#${n.id}`);break}})}),e.open("GET",i.mobileWidgets),e.send()}let S=s("div",f);S.appendChild(s("span",null,".btn-symbol")),p.insertBefore(S,p.firstElementChild);let q=s("div",l,b);q.appendChild(s("span",null,".btn-symbol"));let C=document.querySelector("#global-header");if(!C)return;let v=[c,d,o,f],g=window.scrollY;window.addEventListener("load",()=>{C.appendChild(q),g=window.scrollY;let e=document.querySelector(l);e&&e.addEventListener("click",t=>{g=window.scrollY,document.body.classList.add(r),v.forEach(n=>{document.querySelector(n).classList.add(r)}),t.preventDefault()})}),[f,d].forEach(e=>{let t=document.querySelector(e);t&&t.addEventListener("click",n=>{v.forEach(m=>{window.scroll(0,g),document.body.classList.remove(r),document.querySelector(m).classList.remove(r)}),n.preventDefault()})}),window.addEventListener("pageshow",e=>{v.forEach(t=>{window.scroll(0,g),document.body.classList.remove(r),document.querySelector(t).classList.remove(r)}),e.preventDefault()}),window.addEventListener("resize",()=>{let e=window._BbBreakPoint?window._BbBreakPoint:782;document.documentElement.clientWidth>=e&&v.forEach(t=>{document.body.classList.remove(r),document.querySelector(t).classList.remove(r)})})},H=()=>{let c=s("ul",null,b);i.footerNav.forEach(o=>{if(o==E||o==y){let u=document.querySelector(o+" .menu"),l=s("li",o+"-footernav",".widget");l.innerHTML=u.outerHTML.replace(/ id=["|'].*?["|']/g,""),c.appendChild(l)}else{let u=document.querySelector(o),l=document.createElement("div");l.innerHTML=u.outerHTML.replace(/ id=["|'].*?["|']/g,""),l.firstElementChild.setAttribute("id",o.substring(1)+"-footernav"),c.appendChild(l.firstChild)}let a=document.querySelector(B+" .footer-widgets");a.insertBefore(c,a.firstElementChild)})}})();})();
